angular.module("ionic-timepicker",["ionic","ionic-timepicker.templates"]).directive("ionicTimepicker",["$ionicPopup",function(e){return{restrict:"AE",replace:!0,scope:{etime:"=etime",format:"=format",step:"=step",callback:"=callback"},link:function(t,i){i.on("click",function(){var i={epochTime:t.etime,step:t.step,format:t.format};t.time={hours:0,minutes:0,meridian:""};var m=new Date(1e3*i.epochTime);t.increaseHours=function(){t.time.hours=Number(t.time.hours),12==i.format&&(12!=t.time.hours?t.time.hours+=1:t.time.hours=1),24==i.format&&(23!=t.time.hours?t.time.hours+=1:t.time.hours=0),t.time.hours=t.time.hours<10?"0"+t.time.hours:t.time.hours},t.decreaseHours=function(){t.time.hours=Number(t.time.hours),12==i.format&&(t.time.hours>1?t.time.hours-=1:t.time.hours=12),24==i.format&&(t.time.hours>0?t.time.hours-=1:t.time.hours=23),t.time.hours=t.time.hours<10?"0"+t.time.hours:t.time.hours},t.increaseMinutes=function(){t.time.minutes=Number(t.time.minutes),t.time.minutes!=60-i.step?t.time.minutes+=i.step:t.time.minutes=0,t.time.minutes=t.time.minutes<10?"0"+t.time.minutes:t.time.minutes},t.decreaseMinutes=function(){t.time.minutes=Number(t.time.minutes),0!=t.time.minutes?t.time.minutes-=i.step:t.time.minutes=60-i.step,t.time.minutes=t.time.minutes<10?"0"+t.time.minutes:t.time.minutes},12==i.format?(t.time.meridian=m.getUTCHours()>=12?"PM":"AM",t.time.hours=m.getUTCHours()>12?m.getUTCHours()-12:m.getUTCHours(),t.time.minutes=m.getUTCMinutes(),0==t.time.hours&&"AM"==t.time.meridian&&(t.time.hours=12),t.changeMeridian=function(){t.time.meridian="AM"===t.time.meridian?"PM":"AM"},e.show({templateUrl:"time-picker-12-hour.html",title:"<strong>12-Hour Format</strong>",subTitle:"",scope:t,buttons:[{text:"Close",onTap:function(){t.callback(void 0)}},{text:"Set",type:"button-positive",onTap:function(){t.loadingContent=!0;var e=0;e=12!=t.time.hours?60*t.time.hours*60+60*t.time.minutes:60*t.time.minutes,"AM"===t.time.meridian?e+=0:"PM"===t.time.meridian&&(e+=43200),t.etime=e,t.callback(t.etime)}}]})):24==i.format&&(t.time.hours=m.getUTCHours(),t.time.minutes=m.getUTCMinutes(),e.show({templateUrl:"time-picker-24-hour.html",title:"<strong>24-Hour Format</strong>",subTitle:"",scope:t,buttons:[{text:"Close",onTap:function(){t.callback(void 0)}},{text:"Set",type:"button-positive",onTap:function(){t.loadingContent=!0;var e=0;e=24!=t.time.hours?60*t.time.hours*60+60*t.time.minutes:60*t.time.minutes,t.etime=e,t.callback(t.etime)}}]}))})}}}]);